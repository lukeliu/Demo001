<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>1970~1981年 臺灣大學閻振興校長線上檔案特展 National Taiwan University Former President Chen-Hsing Yen Online Archives Special Exhibition</title>
    <meta content="" name="descriptison">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="" rel="icon">
    <link href="" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@100;500&display=swap" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
    <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/slick/slick.css" rel="stylesheet">
    <link href="assets/vendor/slick/slick-theme.css" rel="stylesheet">
    <link href="assets/vendor/jquery.mCustomScrollbar/jquery.mCustomScrollbar.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/custom.css" rel="stylesheet">
</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header">
        <button type="button" class="mobile-nav-toggle d-lg-none"><i class="bx bx-menu"></i></button>
        <div class="container full">

            <div class="row no-gutters">
                <div class="col-xl-6">
                    <div class="header_pic d-flex align-items-end">
                        <img src="images/header_pic2.png" alt="閻振興校長" title="閻振興校長" class="img-fluid" data-aos="fade-up" date-aos-delay="200">
                    </div>
                </div>
                <div class="col-xl-6">
                    <div class="logo d-flex align-items-end">
                        <a href="index.html"><img src="images/logo_big.png" alt="「波濤光夏」" title="「波濤光夏」" class="img-fluid" data-aos="fade-up" date-aos-delay="400"></a>
                    </div>
                    <h1 class="title">1970~1981年<br>臺灣大學閻振興校長線上檔案特展<br><span class="stitle">National Taiwan University Former President Chen-Hsing Yen <br class="mhide">Online Archives Special Exhibition</span></h1>
                    <nav class="nav-menu d-none d-lg-block">
                        <ul>
                            <li><a href="index.html#sei">特展簡介<br><span class="stitle">Special Exhibition Info</span></a></li>
                            <li><a href="about.html">關於校長<br><span class="stitle">About the President</span></a>
                            </li>
                            <li class="active"><a href="history.html">歷史河流<br><span class="stitle">Historical River</span></a></li>
                        </ul>
                    </nav>
                </div>
            </div>

        </div>
    </header>
    <!-- End Header -->

    <main id="main" class="">

        <!-- ======= History Section ======= -->
        <section class="History p-0">
            <div class="container full">

                <div class="row no-gutters position-relative">
                    <div id="history1" class="col-12">
                        <h2 data-aos="fade-down">歷史河流<br><span class="stitle">Historical river</span></h2>

                        <img class="img-fluid pic1" src="images/pic1.png" data-aos="fade-up" alt="">
                        <img class="img-fluid pic2" src="images/pic2.png" data-aos="fade-up" alt="">
                        <img class="img-fluid pic3" src="images/pic3.png" data-aos="fade-up" alt="">
                        <img class="img-fluid pic4" src="images/pic4.png" data-aos="fade-up" alt="">
                        <img class="img-fluid pic5" src="images/pic5.png" data-aos="fade-up" alt="">
                        <img class="img-fluid pic6" src="images/pic6.png" data-aos="fade-up" alt="">

                        <img class="img-fluid bg_1" src="images/bg_1.png" data-aos="fade-up" alt="">
                        <img class="img-fluid bg_2" src="images/bg_2.png" data-aos="fade-up" alt="">
                        <img class="img-fluid bg_3" src="images/bg_3.png" data-aos="fade-up" alt="">
                        <img class="img-fluid bg_4" src="images/bg_4.png" data-aos="fade-up" alt="">
                        <img class="img-fluid bg_5" src="images/bg_5.png" data-aos="fade-up" alt="">
                        <img class="img-fluid bg_6" src="images/bg_6.png" data-aos="fade-up" alt="">
                        <img class="img-fluid bg_7" src="images/bg_7.png" data-aos="fade-up" alt="">

                        <img class="img-fluid lpic1" src="images/list_pic1.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic2" src="images/list_pic2.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic3" src="images/list_pic3.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic4" src="images/list_pic4.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic5" src="images/list_pic5.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic6" src="images/list_pic6.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic7" src="images/list_pic7.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic8" src="images/list_pic8.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic9" src="images/list_pic9.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic10" src="images/list_pic10.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic11" src="images/list_pic11.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic12" src="images/list_pic12.png" data-aos="fade-right" alt="">
                        <img class="img-fluid lpic13" src="images/list_pic13.png" data-aos="fade-right" alt="">
                        
                        <ul id="hr_list"></ul>
                        <img class="img-fluid deer" src="images/deer.png" data-aos="fade-up" alt="">
                    </div>
                    <div id="float_nav">
                        <div link="Y1970" class="year">1970</div>
                        <div link="Y1971" class="year">1971</div>
                        <div link="Y1972" class="year">1972</div>
                        <div link="Y1973" class="year">1973</div>
                        <div link="Y1974" class="year">1974</div>
                        <div link="Y1975" class="year">1975</div>
                        <div link="Y1976" class="year">1976</div>
                        <div link="Y1977" class="year">1977</div>
                        <div link="Y1978" class="year">1978</div>
                        <div link="Y1979" class="year">1979</div>
                        <div link="Y1980" class="year">1980</div>
                        <div link="Y1981" class="year">1981</div>
                    </div>
                </div>
            </div>

        </section>
        <!-- End History Section -->

    </main>
    <!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer">
        <div class="footer-top">
            <div class="container full">
                <div class="row justify-content-between no-gutters">

                    <div class="col-xl-8 col-md-12 footer-info">
                        <a href="https://ga.ntu.edu.tw/doc/main_ch/sub/archive/index.aspx" target="_blank">
                            <img class="logo_td" src="images/logo_td_white.png" alt="國立臺灣大學檔案館 NTU Archives">
                        </a>
                        <p>國立臺灣大學檔案館 NTU Archives</p>
                        <ul>
                            <li class="openTime"><b>開放時間</b> Hours： 週一~週五10:00~16:00；週六、週日與國定假日休館 <span>Monday to Friday 10:00 ~16:00<br>Closed on Saturday, Sunday and national holidays</span></li>
                            <li class="phone"><b>聯絡電話</b> TEL： +886-2-33669709</li>
                            <li class="addr"><b>地址</b> ADD： 100047 台北市中正區思源街18號<br> 
                            <span>No. 18, Siyuan St., Zhongzheng Dist., Taipei City 100047 , Taiwan (R.O.C.)</span></li>
                        </ul>
                    </div>
                    <div class="col-xl-4 col-md-12 footer-links">
                        <div class="row no-gutters">
                            <div class="col-md-6 col-sm-12 footer-link">
                                <h4>
                                    <a href="about.html">關於校長<br><span class="stitle">About the president</span></a>
                                </h4>
                            </div>

                            <div class="col-md-6 col-sm-12 footer-link">
                                <h4>
                                    <a href="history.html">歷史河流<br><span class="stitle">Historical River</span></a>
                                </h4>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row justify-content-center no-gutters">
                    <div class="col-xl-8">
                        <div class="copyright">
                            Copyright &copy; 2023 國立臺灣大學檔案館 <br>National Taiwan University Archives
                        </div>
                    </div>
                    <div class="col-xl-4">
                        <div class="designed">Designed by <a href="https://www.cpudesign.com.tw/" target="_blank">CPU</a>.
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->

    <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

    <!-- Modal -->
    <div class="modal fade" id="showModal" tabindex="-1" role="dialog" aria-labelledby="showModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row no-gutters">

                        <div class="col-lg-3 infomation">
                            <div id="infomation">
                                <p class="title">
                                    <span id="Label_Date" class="time"></span>
                                    <span id="Label_Subject_Zh" class="info"></span>
                                </p>
                                <p id="Label_Subject_EN" class="eng"></p>
                                <p id="Label_Summary_ZH" class="cht"></p>
                                <p id="Label_Summary_EN" class="eng2"></p>
                            </div>
                            <div id="Label_link"></div>
                        </div>

                        <div class="col-lg-9 imglists">
                            <div id="simple-bar">
                                <div id="Big_Photo">
                                </div>
                                <div id="List_Photo">
                                    <div class="scroll"></div>
                                    <!-- <img class="img-fluid" src="data/img/{PhotoId}" alt=""> -->
                                </div>
                            </div>
                        </div>

                    </div>
                    <div id="button_left"><img src="images/button_left.png" alt="" class="img-fluid"></div>
                    <div id="button_right"><img src="images/button_right.png" alt="" class="img-fluid"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Modal -->

    <!-- Vendor JS Files -->
    <script src="assets/vendor/jquery/jquery.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/slick/slick.min.js"></script>
    <script src="assets/vendor/jquery.mCustomScrollbar/jquery.mCustomScrollbar.js"></script>
    <script src="assets/vendor/jquery.mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js"></script>


    <!-- Template Main JS File -->
    <script src="assets/js/extm.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="data/Data.js?1"></script>
        <script>

        $(function() {            

            function getUrlVal(val) {
                var query = window.location.search.substring(1);
                var vars = query.split("&");
                for(var i = 0; i < vars.length; i++) {
                    var pair = vars[i].split("=");
                    if(pair[0] == val) {
                        return pair[1];
                    }
                }
                return (false);
            }
            var TYear = getUrlVal('hr');
            var toshow = getUrlVal('toshow');

            // Func : SetHTML
            // Desc : 設定歷史河流的內容
            function SetListHTML() {
                var len = Object.keys(_Data).length;
                var w_len = 0;
                for(var i = 1; i <= len; i++) {
                    var tindex = '';
                    if(i < 10){
                        tindex = '0' + i.toString();
                    }else{
                        tindex = i.toString();
                    }
                    var dbData = _Data[tindex];
                    var year = '';
                    var sdate = dbData['date'];
                    var time = sdate.substring(5);
                    if(time.length < 3) time = time + '月';

                    var subject_eng = dbData['subject']['en'];
                    if(subject_eng == undefined) subject_eng = '';

                    var float = dbData['float'];
                    if(float == undefined) float = '';

                    var yeardiv = '';
                    var yearid = '';

                    // console.log(dbData['year']);
                    if(dbData['year'] !== undefined){
                        year = dbData['year'].replace('Y', '');
                        yeardiv = '<div class="year '+ dbData['year'] +'" data-aos="fade-left">'+ year +'</div>';
                        yearid = ' id="'+ dbData['year'] +'"';
                        
                        // $('#hr_list').append('<div class="year '+ dbData['year'] +'" data-aos="fade-left">'+ year +'</div><li id="'+ dbData['year'] +'" class="h_link '+ float +'" data-aos="fade-up" data-toggle="modal" data-target="#showModal" data-index="'+ tindex +'">'+ time +'<br>'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                    }
                    if(dbData['icon'] !== undefined){
                        if(dbData['photos'] !== undefined){
                            if(dbData['icon'] === 'lighthouse'){
                                $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link lighthouse '+ float +'" data-aos="fade-up" data-toggle="modal" data-target="#showModal" data-index="'+ tindex +'">'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                            }
                            if(dbData['icon'] === 'whale'){
                                w_len = w_len + 1;
                                $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link whale whale' + w_len +' '+ float +'" data-aos="fade-up" data-toggle="modal" data-target="#showModal" data-index="'+ tindex +'"><span class="time">'+ time +'</span><br>'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                            }
                            if(dbData['icon'] === 'noicon'){
                                $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link noicon '+ float +'" data-aos="fade-up" data-toggle="modal" data-target="#showModal" data-index="'+ tindex +'"><span class="time">'+ time +'</span><br>'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                            }
                        }else{
                            if(dbData['icon'] === 'lighthouse'){
                                $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link lighthouse '+ float +'" data-aos="fade-up" data-index="'+ tindex +'">'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                            }
                            if(dbData['icon'] === 'whale'){
                                w_len = w_len + 1;
                                $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link whale whale' + w_len +' '+ float +'" data-aos="fade-up" data-index="'+ tindex +'"><span class="time">'+ time +'</span><br>'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                            }
                            if(dbData['icon'] === 'noicon'){
                                $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link noicon '+ float +'" data-aos="fade-up" data-index="'+ tindex +'"><span class="time">'+ time +'</span><br>'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                            }
                        }
                    }else{
                        $('#hr_list').append(yeardiv + '<li'+ yearid +' class="h_link '+ float +'" data-aos="fade-up" data-toggle="modal" data-target="#showModal" data-index="'+ tindex +'">'+ time +'<br>'+ dbData['subject']['zh'] +'<br><span class="eng">'+ subject_eng +'</span></li>');
                    }
                }
                
            }
            function toSHOW(){
                $('#hr_list .h_link').each(function() {
                    var h_link = $(this);
                    var dindex = h_link.attr('data-index');
                    // console.log(dindex + ' === ' + toshow);
                    if (dindex === toshow) {
                        var lpos = h_link.position();
                        // console.log(lpos.top);
                        var mv = -200;
                        $('html, body').animate({
                            scrollTop: lpos.top - mv
                        }, 1500, 'easeInOutExpo');
                        function tclick(){
                            h_link.click();
                        }
                        window.setTimeout(tclick, 2000);
                        return false;
                    }
                });
            }
            window.setTimeout(toSHOW, 2000);

            var index = "";

            // Func : SetData
            // Desc : 設定文物資訊面板的內容
            function SetData(thisIndex) {
                // console.log(thisIndex);
                var dbData = _Data[thisIndex];
                if(dbData["date"] !== undefined) {
                    $("#Label_Date").html(dbData["date"]);
                    $("#Label_Subject_Zh").html(dbData["subject"]["zh"]);
                    $("#Label_Subject_EN").html(dbData["subject"]["en"]);
                    $("#Label_Summary_ZH").html(dbData["summary"]["zh"]);
                    $("#Label_Summary_EN").html(dbData["summary"]["en"]);
                    $("#Label_link").html(dbData["link"]);

                    // 處理文物圖檔
                    $("#List_Photo div").html('');
                    for (var i = 0; i < dbData["photos"].length; i++) {
                        $("#List_Photo .scroll").append('<img class="img-fluid photo" src="data/img/'+dbData["photos"][i]+'" big="data/img/'+dbData["photos"][i]+'" alt="">');
                    };
                    $("#Big_Photo").html('');
                    $("#Big_Photo").append('<img class="img-fluid photo" src="data/img/'+dbData["photos"][0]+'" alt="">');
                    $("#List_Photo .photo").first().addClass('active');
                    

                    /*$('#List_Photo').mCustomScrollbar({
                        theme: "dark",
                        axis: "x"
                    });*/
                    
                    $("#Big_Photo .photo").extm({
                        squareOverlay:true,
                    });
                }else{
                    SetData(thisIndex);
                }
            }

            // Func : ClearData
            // Desc : 清除文物資訊面板的內容
            function Clear_Data() {
                $("#Label_Date, #Label_Subject_Zh, #Label_Subject_EN, #Label_Summary_ZH, #Label_Summary_EN, #Label_link, #Big_Photo, #List_Photo .scroll").html('');
            }

            SetListHTML();

            $('#float_nav').on('click', '.year', function() {
                $('#float_nav .year').removeClass('active');
                $(this).addClass('active');
                var link = $('#' + $(this).attr('link'));
                var lpos = link.position();
                //console.log(lpos.top);
                var mv = -200;
                if ($(this).attr('link') === 'history1') {
                    mv = -750;
                }
                $('html, body').animate({
                    scrollTop: lpos.top - mv
                }, 1500, 'easeInOutExpo');
                return false;
            });
            
            $('#float_nav .year').each(function() {
                var title = $(this).text();
                if(TYear === title){
                    $(this).click();
                }
            });

            $(window).on('load resize scroll', function() {
                var wW = parseInt($(window).width());
                var hW = $('#header').width();
                if (wW > hW) {
                    $('#float_nav').css('margin-left', (wW - hW) / 2);
                }
                var hH = $('#header').height();
                var fp = $('#footer');
                var fpos = fp.position();
                var wH = parseInt($(window).height());
                if ($(this).scrollTop() > hH) {
                    if ($(this).scrollTop() > (fpos.top - wH / 2 - 236)) {
                        $('#float_nav').removeClass('active');
                    } else {
                        $('#float_nav').addClass('active');
                    }
                } else {
                    $('#float_nav').removeClass('active');
                }
            });

            $('#infomation').mCustomScrollbar({
                theme: "minimal-dark"
            });

            /*$('#simple-bar').mCustomScrollbar({
                theme: "rounded-dark"
            });*/

            $(window).on('click', '.h_link', function() {
                // alert('hgrghtrhset');
                // SetData($(this).attr('num').val());
                index = $(this).attr('data-index').val();
                // console.log('index1 : '+index);
            });

            $('#List_Photo').on('click', '.photo', function(e) {
                $('#oElement').remove();

                $('#List_Photo .photo').removeClass('active');
                $(this).addClass('active');
                $('#Big_Photo').html('');
                var big = $('#List_Photo .photo.active').attr('big');
                $("#Big_Photo").append('<img class="img-fluid photo" src="'+ big +'" alt="">');

                $("#Big_Photo .photo").extm({
                    squareOverlay:true,
                });
            });


            $('#showModal').on('shown.bs.modal', function(event) {
                var num = $(event.relatedTarget);
                index = num.data("index");
                // console.log('index : '+index);
                SetData(index);
            });
            
            $('#showModal .close').click(function(){
                $('#oElement').remove();
                Clear_Data();
            });

            $('#button_left').on('click', function() {
                $('#oElement').remove();
                Clear_Data();

                var len = $('.h_link').length;
                index = parseFloat(index) - 1;
                if(index == 0) index = len;
                if(index > len) index = 1;
                if(index < 10) index = "0" + index;
                index = index.toString();
                // console.log('index1 : '+index);
                SetData(index);
            });

            $('#button_right').on('click', function() {
                $('#oElement').remove();
                Clear_Data();

                var len = $('.h_link').length;
                index = parseFloat(index) + 1;
                if(index == 0) index = len;
                if(index > len) index = 1;
                if(index < 10) index = "0" + index;
                index = index.toString();
                // console.log('index2 : '+index);
                SetData(index);
            });

            $('#List_Photo').on('click', '.photo.active', function() {
                var url = location.origin + '/' + $(this).attr('big');
                console.log('url : '+url);
                if($(this).attr('big') !== undefined){
                    window.open(url, '_blank').focus();
                }
            });


        });
    </script>

</body>

</html>